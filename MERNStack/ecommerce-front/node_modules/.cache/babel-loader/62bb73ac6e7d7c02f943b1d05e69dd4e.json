{"ast":null,"code":"var _jsxFileName = \"/Users/swagath/Desktop/MERN Stack Ecommerce/MERN-Stack-Ecommerce-App-with-Braintree-Payment-Integration/ecommerce-front/src/user/Signup.js\";\n// using react hook and using function usestate to manipulate state\nimport React, { useState } from 'react';\nimport Layout from '../core/Layout';\nimport { API } from '../config';\n\nconst Signup = () => {\n  //instead of doing for each field is const [name, setName] = useState('') we can do in below way\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    password: '',\n    error: '',\n    success: false\n  });\n  const {\n    name,\n    email,\n    password,\n    success,\n    error\n  } = values; //A higher order(handleChange) function is a function returning another higher order function\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n\n  const signup = user => {\n    return fetch(`${API}/signup`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(response => {\n      return response.json();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const clickSubmit = event => {\n    //Using event.preventDefault() we are preventing the browsers default action of reload\n    event.preventDefault();\n    setValues({ ...values,\n      error: false\n    });\n    signup({\n      name,\n      email,\n      password\n    }).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error,\n          success: false\n        });\n      } else {\n        setValues({ ...values,\n          name: '',\n          email: '',\n          password: '',\n          error: '',\n          success: true\n        });\n      }\n    });\n  };\n\n  const showError = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, error);\n\n  const showSuccess = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info\",\n    style: {\n      display: success ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"New account is created. Please Signin\");\n\n  const signUpForm = () => /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('name'),\n    type: \"text\",\n    className: \"form-control\",\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('email'),\n    type: \"email\",\n    className: \"form-control\",\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('password'),\n    type: \"password\",\n    className: \"form-control\",\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clickSubmit,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Submit\"));\n\n  return (\n    /*#__PURE__*/\n    // 8 grids and offset-md-2 means 2 cols both towards left and right which is total 4.\n    React.createElement(Layout, {\n      title: \"Signup\",\n      description: \"Signup to Node React E-Comm App\",\n      className: \"container col-md-8 offset-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 2\n      }\n    }, showSuccess(), showError(), signUpForm())\n  );\n};\n\nexport default Signup;","map":{"version":3,"sources":["/Users/swagath/Desktop/MERN Stack Ecommerce/MERN-Stack-Ecommerce-App-with-Braintree-Payment-Integration/ecommerce-front/src/user/Signup.js"],"names":["React","useState","Layout","API","Signup","values","setValues","name","email","password","error","success","handleChange","event","target","value","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","clickSubmit","preventDefault","data","showError","display","showSuccess","signUpForm"],"mappings":"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","sourcesContent":["// using react hook and using function usestate to manipulate state\nimport React, { useState } from 'react'\nimport Layout from '../core/Layout'\nimport {API} from '../config'\n\n\nconst Signup = () => {\n\t  //instead of doing for each field is const [name, setName] = useState('') we can do in below way\n\t  const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: '',\n        success: false\n    });\n\n\n\tconst { name, email, password, success, error } = values;  \n\n\t//A higher order(handleChange) function is a function returning another higher order function\n\tconst handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    \n    const signup = user => {\n        return fetch(`${API}/signup`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        })\n            .then(response => {\n                return response.json();\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    };\n\n\n    const clickSubmit = event => {\n      \t//Using event.preventDefault() we are preventing the browsers default action of reload\n        event.preventDefault();\n        setValues({ ...values, error: false });\n        signup({ name, email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, success: false });\n            } else {\n                setValues({\n                    ...values,\n                    name: '',\n                    email: '',\n                    password: '',\n                    error: '',\n                    success: true\n                });\n            }\n        });\n\n    };\n\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\n            New account is created. Please Signin\n        </div>\n    );\n\n\n\n\tconst signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}  />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n\treturn(\n    // 8 grids and offset-md-2 means 2 cols both towards left and right which is total 4.\n\t<Layout title= \"Signup\" description = \"Signup to Node React E-Comm App\" className=\"container col-md-8 offset-md-2\">\n         {showSuccess()}\n         {showError()}\n         {signUpForm()}\n         \n\t </Layout>\n\t );\n}\n\n\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}